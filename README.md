# Телеграм-бот UI

## Стэк технологий
>Kotlin
>Spring Boot
>Spring Data JPA


## Описание архитектуры

Прототип UI для Телеграм бота. Реализация longpooling telegram bot (่обмен сообщения происходит через сервера ТГ). Есть ещё webhook bot, более отказоустойчевый, но требует поднятие своего сервера, через который будут идти сообщения.(На начальном этапе, полагаю,сервер не требуется). Для longpooling bot существует ограничение на размер загружаемого файла в 50 Мбайт и по кол-ву файлов до 10 шт. Webhook bot позволяет обойти ограничение по размеру файла.

! [Cхема архитектуры](./plan.png)


Основной класс MainBot, который переадресовывает всё в CommandHandle, где собственно и будет происходить обработка всех событий. CommandHandle знает о существование всех команд и отвечает за делигирование запросов, полученных от бота. При реализации комманд использован паттерн Команда, что в будем упростит масштабирование проекта(добавление, удаление логики\команд).

! [Циклическая зависимость](./round.jpg)

Бот будет являться тем, кто отправляет сообщения. А для отправки сообщения надо воспользоваться классом MainBot. Для избежания циклической зависимости используется класс ApplicationEvent. События(Event), которые позволят нам обрабатывать сообщения(получение,удалие и т.д.). Эти события мы будет отправлять через класс EventPublisher.